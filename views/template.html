<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">

        <!-- discord embed integration -->
        <meta content="Final Republic" property="og:site_name">
        <meta content="Template | Final Republic" property="og:title">
        <meta content="The template page for the website." property="og:description">
        <meta content="https://cdn.discordapp.com/attachments/1061516148325220455/1074527045561884722/f7bd4c45-d74b-405c-b57c-852917af9cc7.png" property='og:image'>
        <meta name="theme-color" content="#bd97bd">

        <!-- make the website look good -->
        <title>Wiki | Final Republic</title>
        <link id="themeStylesheet" rel="stylesheet" href="light.css">
        <link rel="icon" href="FinalRepublic_GIF_logo.gif"> <!-- https://en.wikipedia.org/wiki/Favicon#Image_file_format_support -->

        <!-- mobile support, keep this at the end of <head> so it can override the loaded stylesheet -->
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

    </head>
    <nav class="tab">
        <img class="themeToggle" src="FinalRepublic_GIF_logo.gif" alt="emoji logo">
        <div class="topnav">
            <a href="index.html">Home</a>
            <a href="wiki.html">Wiki</a>
            <a href="map.html">Map</a>
            <a href="about.html">About</a>
        </div>
        <img class="themeToggle" onclick="toggleTheme()" src="https://cdn2.iconfinder.com/data/icons/weather-154/100/weather_cloud_clouds_nature-46-512.png" alt="Dark / Light Mode Toggle">
    </nav>
    <body id="body">
        <div class="center">
            <p>
                Template Page; do not delete under <b><i>ANY</i></b> circumstances.<br>
                If you've gotten here by mistake, click <a href="index.html">Here</a> to go back home.
            </p>
        </div>
    </body>
    <footer id="footer">
        <p style="text-align: center;">
            | &copy; 2022-2023 The Final Republic, FinalRepublic
            | GPL v3 ; Open to Contributors ; Hosted on <a href="https://github.com/GirlInPurple/frwebsite">Github</a> and <a href="https://www.fl0.com/">FL0</a> ; Last Updated <a id="commitDate"></a>
            | Not an offical Minecraft product ; Not approved by or associated with Mojang Studios
            | <a href="contact.html">Contact, Legal, About</a>
            | <a onclick="document.getElementById('footer').style.display = 'none';">Click here to hide footer</a> |
        </p>
        <script>
            // This function toggles between light and dark mode
            function toggleTheme() {
                let themeStylesheet = document.getElementById('themeStylesheet');
                let darkMode = localStorage.getItem('darkMode') === 'true';
                if (darkMode) {
                    themeStylesheet.href = 'light.css';
                    localStorage.setItem('darkMode', 'false');
                } else {
                    themeStylesheet.href = 'dark.css';
                    localStorage.setItem('darkMode', 'true');
                }
            }
        
            // This function gets the latest commit
            async function getLatestCommit() {
                await fetch("https://api.github.com/repos/GirlInPurple/frwebsite/commits")
                    .then(response => response.json())
                    .then(data => {
                        document.getElementById("commitDate").innerHTML = data[0].commit.author.date;
                    })
                    .catch(error => console.error('Error:', error));
            }
        
            // This code runs when the page loads
            window.onload = async function() {
                // Set the theme based on the value in localStorage
                let darkMode = localStorage.getItem('darkMode') === 'true';
                let themeStylesheet = document.getElementById('themeStylesheet');
                themeStylesheet.href = darkMode ? 'dark.css' : 'light.css';
        
                // Get the latest commit
                await getLatestCommit();
            }
        
            // This code runs when the theme toggle element is clicked
            document.querySelector('.themeToggle').addEventListener('click', toggleTheme);
        </script>
    </footer>
</html>